{
  "_args": [
    [
      {
        "raw": "sheetsy@https://registry.npmjs.org/sheetsy/-/sheetsy-2.1.1.tgz",
        "scope": null,
        "escapedName": "sheetsy",
        "name": "sheetsy",
        "rawSpec": "https://registry.npmjs.org/sheetsy/-/sheetsy-2.1.1.tgz",
        "spec": "https://registry.npmjs.org/sheetsy/-/sheetsy-2.1.1.tgz",
        "type": "remote"
      },
      "/Users/samhart/Workspace/Code/nov/bracket-tool"
    ]
  ],
  "_from": "sheetsy@>=2.1.1 <3.0.0",
  "_id": "sheetsy@2.1.1",
  "_inCache": true,
  "_location": "/sheetsy",
  "_phantomChildren": {},
  "_requested": {
    "raw": "sheetsy@https://registry.npmjs.org/sheetsy/-/sheetsy-2.1.1.tgz",
    "scope": null,
    "escapedName": "sheetsy",
    "name": "sheetsy",
    "rawSpec": "https://registry.npmjs.org/sheetsy/-/sheetsy-2.1.1.tgz",
    "spec": "https://registry.npmjs.org/sheetsy/-/sheetsy-2.1.1.tgz",
    "type": "remote"
  },
  "_requiredBy": [
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/sheetsy/-/sheetsy-2.1.1.tgz",
  "_shasum": "9ad919a0cbc752e651238b4b814ff49b36d101f1",
  "_shrinkwrap": null,
  "_spec": "sheetsy@https://registry.npmjs.org/sheetsy/-/sheetsy-2.1.1.tgz",
  "_where": "/Users/samhart/Workspace/Code/nov/bracket-tool",
  "author": {
    "name": "TehShrike"
  },
  "browser": "browser-build.js",
  "bugs": {
    "url": "https://github.com/TehShrike/sheetsy/issues"
  },
  "dependencies": {
    "got": "7.1.0",
    "ordered-entries": "1.0.0"
  },
  "description": "Use your Google Sheets as a data source in the browser, avoid writing a CMS back-end",
  "devDependencies": {
    "babel-plugin-external-helpers": "6.22.0",
    "babel-preset-es2015": "6.24.1",
    "browser-run": "3.5.0",
    "browserify": "14.4.0",
    "rollup-plugin-babel": "2.7.1",
    "rollup-plugin-commonjs": "8.0.2",
    "rollup-plugin-node-resolve": "3.0.0",
    "tape": "4.7.0",
    "tape-run": "2.4.1"
  },
  "engines": {
    "node": ">=6.0.0"
  },
  "homepage": "https://github.com/TehShrike/sheetsy#readme",
  "keywords": [
    "google",
    "sheets",
    "spreadsheet",
    "sheet",
    "tabletop",
    "browser"
  ],
  "license": "WTFPL",
  "main": "index-node.js",
  "name": "sheetsy",
  "optionalDependencies": {},
  "readme": "Use Google Sheets as a data source for your webapps.\n\n1. Create a spreadsheet\n2. Create a webapp that points at that spreadsheet\n3. Update the spreadsheet, watch your app update automatically\n\nWhy write a CMS for small projects when you could just edit a spreadsheet?\n\nWorks in node and the browser.  The ES5 browser build is ~1195 bytes minified/gzipped.\n\n# Relationship to Tabletop.js\n\nThis library owes a lot to @jsoma and [Tabletop.js](https://github.com/jsoma/tabletop).\n\nTabletop's implementation pointed me at the endpoints to hit, and saved me a lot of investigation into the specifics of how to fetch the data from Google Sheets.\n\nSheetsy is much simpler than Tabletop, by virtue of doing less, avoiding legacy IE and HTTP support, and being composed of pure functions, which allows this library to be more thoroughly tested.\n\n# How to set up your Google Spreadsheet\n\n1. Create a spreadsheet with [Google Sheets](https://docs.google.com/spreadsheets/)\n2. Navigate to the \"File\" menu\n3. Click \"Publish to the Web\"\n\t- It should default to \"Entire Document\" + \"Web page\", which is what you want.\n\t- The defaults should be fine for \"Published content & settings\" as well - for maximum easiness, you'll want to \"Automatically republish when changes are made\".\n5. Click \"Publish\"\n6. Copy the URL\n\n# Using a published Google Spreadsheet as a data source\n\nThis is what you'll do:\n\n1. Turn the URL into a key\n2. Using the key, fetch the top-level workbook containing a list of sheets\n3. With the original key and a sheet id from the list, fetch one of the sheets to access its rows\n\n# API\n\n```js\nconst sheetsy = require('sheetsy')\nconst { urlToKey, getWorkbook, getSheet } = sheetsy\n```\n\n## `key = urlToKey(url)`\n\nGiven a `url` string, returns a `key` string.  Throws an error if no key is found.\n\n```js\nconst key = urlToKey(\n\t'https://docs.google.com/spreadsheets/d/14uk6kljx-tpGJeObmi22DkAyVRFK5Z1qKmSXy1ewuHs/pubhtml'\n) // => '14uk6kljx-tpGJeObmi22DkAyVRFK5Z1qKmSXy1ewuHs'\n```\n\nTabletop.js notes that [some publish URLs don't work for some reason](https://github.com/jsoma/tabletop#if-your-publish-to-web-url-doesnt-work) - if you run into a published document that doesn't work for some reason, please open an issue with the link that you're using and a description of the error, I'd be interested to create some tests for those cases.\n\n## `promise = getWorkbook(key, [httpGet])`\n\nGiven a `key` string, returns a Promise that resolves to a object containing an object describing the workbook.\n\n```js\ngetWorkbook('14uk6kljx-tpGJeObmi22DkAyVRFK5Z1qKmSXy1ewuHs').then(workbook => {\n\tworkbook // => {\n//\t\tname: 'Sheetsy test',\n//\t\tauthors: [\n//\t\t\t{\n//\t\t\t\tname: 'joshduffman',\n//\t\t\t\temail: 'joshduffman@gmail.com',\n//\t\t\t}\n//\t\t],\n//\t\tupdated: '2017-07-14T04:59:24.123Z',\n//\t\tsheets: [\n//\t\t\t{ name: 'Herp', id: 'od6', updated: '2017-07-14T04:59:24.123Z' },\n//\t\t\t{ name: 'Derp', id: 'of6b9b5', updated: '2017-07-14T04:59:24.123Z' }\n//\t\t]\n//\t}\n})\n```\n\n## `promise = getSheet(key, id, [httpGet])`\n\nGiven a `key` string and an `id` string from the workbook results, returns a Promise that resolves to a sheets object:\n\n```js\ngetSheet('14uk6kljx-tpGJeObmi22DkAyVRFK5Z1qKmSXy1ewuHs', '0d6').then(sheet => {\n\tsheet // => {\n//\t\tname: 'Herp,'\n//\t\tupdated: '2017-07-14T04:59:24.123Z',\n//\t\tauthors: [\n//\t\t\t{\n//\t\t\t\tname: 'joshduffman',\n//\t\t\t\temail: 'joshduffman@gmail.com',\n//\t\t\t}\n//\t\t],\n//\t\trows: [\n//\t\t\trowArray({\n//\t\t\t\tfirstheader: `Something's up`,\n//\t\t\t\tsecondheader: `That's \"cool\"`,\n//\t\t\t}),\n//\t\t\trowArray({\n//\t\t\t\tfirstheader: 'a3',\n//\t\t\t\tsecondheader: 'b3',\n//\t\t\t}, [ 'a3', 'b3', 'c3' ])\n//\t\t]\n//\t}\n})\n```\n\nIn addition, you can also access values of a row by property name.  In this example, the value in cell A1 is \"First header\":\n\n```js\ngetSheet('14uk6kljx-tpGJeObmi22DkAyVRFK5Z1qKmSXy1ewuHs', '0d6').then(sheet => {\n\tconst firstRow = sheet.rows[0]\n\tfirstRow.firstheader // => `Something's up`\n\tfirstRow.secondheader // => `That's \"cool\"`\n})\n```\n### Column names/property names\n\nThe column names are generated by Google Sheets, not by this library.\n\nWhether you format the first row as a header or not, Google Sheets will treat it as if it is the header row of your sheet, and will use the values in those columns to generate the names of all of the column values in all the rows following.\n\nIt appears to strip spaces and lowercase your text.\n\n## Optional argument: `httpGet`\n\nThe `getSheet` and `getWorkbook` functions take as an optional argument a function that takes a url and return a promise that resolves to the response body.\n\nThis defaults to a function backed by `XMLHttpRequest` in the browser, or the [`got`](https://github.com/sindresorhus/got) module in node.\n\nYou can pass in your own function if you want to try to get it working from with old IE or restrictive CORS settings or what-have-you.\n\n# How to use in the browser or node\n\nYour browser bundler will need to respect the `browser` field in `package.json`.  Given that, all you need to do is `import sheetsy from 'sheetsy'` or `const sheetsy = require('sheetsy')`.\n\n# Private sheets support\n\nI'm open to the feature, but don't have need of it yet myself.\n\nIf you find yourself needing private sheets, open an issue with full details about your use case, and/or a pull request with tests.\n\n# License\n\n[WTFPL](http://wtfpl2.com)\n",
  "readmeFilename": "readme.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/TehShrike/sheetsy.git"
  },
  "scripts": {
    "build": "rollup -c",
    "size": "uglifyjs browser-build.js -mc | gzip-size --raw",
    "test": "tape test/test-with-fixtures.js",
    "test:all": "npm run test && npm run test:node && npm run test:browser",
    "test:browser": "npm run build && browserify test/test-without-fixtures.js | tape-run",
    "test:node": "node test/test-without-fixtures.js"
  },
  "version": "2.1.1"
}
